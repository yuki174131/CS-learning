中央演算装置（central processing unit, CPU）は、制御装置と演算装置から構成されている。
制御装置はデコーダとも呼ばれ、命令を解読し、他の周辺機器を制御する。演算装置は、加算器を含む、実際の計算を行う部分。

ノイマン型アーキテクチャでは、メインメモリに記録されている命令を取り出し実行することで処理が実行される。
そのため、取り出した命令を置いておくレジスタと呼ばれる記憶装置が必要。現代の CPU は演算の高速化のため、命令を置くレジスタ以外にもさまざまな役割をもったレジスタが存在する。

レジスタ

コンピュータの CPU 内に存在する小さな記憶領域で、非常に高速にアクセスできる部分。レジスタは、計算処理に必要なデータを一時的に保存するために使用される。
メインメモリは大量のデータを保存する場所で、それぞれのデータは特定のアドレス（場所）に格納される。一方、レジスタは、特定の操作や制御のために使用される小さな記憶領域で、それぞれのレジスタには特定の役割がある。
https://gyazo.com/fd788a41f6c61ecd3d6bc859f9516094

命令レジスタ
実行中の命令を格納するレジスタ。このレジスタは、今 CPU が何をしているのかを示す情報を保持する。
具体的には、命令の種類を示すコード番号、対象のデータのメモリアドレスが入っているオペラント部が格納される。

命令アドレスレジスタ（プログラムカウンタ）
次に実行する命令のアドレスが格納されているレジスタ。CPU はこのアドレスを参照して、メインメモリから次の命令を取り出す。

汎用レジスタ
役割が割り当てられていない汎用的に利用できるレジスタ。様々な計算やデータの一時保管などに使える便利な記憶領域。


命令サイクルは、コンピュータの CPU がプログラムの命令をどのように処理するかを表すサイクル。
命令サイクルの完了を待つのではなく、他のステップが同時に実行されたり、パイプライン化されたりすることで、効率的な実行が確保される。一般的なサイクルは以下のステップから構成される。

1. フェッチ（Fetch）
目的: CPU が次に実行すべき命令をメモリから取得するプロセス。
具体的な動作: プログラムカウンタ（PC）に格納されたアドレスを使用して、命令メモリから対応する命令を取得する。この取得された命令は命令レジスタ（IR）に格納される。
プログラムカウンタの更新: 命令がフェッチされた後、プログラムカウンタは次の命令のアドレスを指すように更新される。

2. デコード（Decode）
目的: フェッチされた命令を解析し、何をすべきかを決定するプロセス。
具体的な動作: 命令レジスタに格納された命令は、その命令のオペコード（操作コード）を解析して分解されます。このオペコードは CPU がどのような操作を行うべきかを指示します。
オペランドの取得: 必要に応じて、追加の情報（オペランド）がレジスタまたはメモリから取得されることがあります。オペランドは、命令が実行すべき具体的なデータやアドレスを指します。オペランドは、通常、汎用レジスタに格納されることが一般的です。

3. 実行（Execute）
目的: デコードされた命令を実際に実行するプロセスです。
具体的な動作: 演算装置などの CPU のコンポーネントが動作し、命令に対応する具体的な計算や操作が実行されます。これには、算術計算、論理演算、データの移動、比較などが含まれることがあります。
結果: 実行の結果は、次のステップであるメモリアクセスやライトバック（命令を実行した計算結果を保持する別のレジスタ）に渡される場合があります。また、結果が条件分岐命令である場合、プログラムカウンタが更新され、新しい実行パスが選択されることがあります。

https://gyazo.com/26e4addc75b5ddce7cf858b113bf311c


キャッシュ
CPU は基本的にメインメモリからデータと命令を取り出し、実行する。しかし、CPU の計算サイクル（動作クロック）は、メインメモリのアクセス速度よりもはるかに速いため、メインメモリの速度がボトルネックになる。
そのため、CPU の近くに位置するより高速なキャッシュが、主記憶との速度差を補うために CPU 内部に配置される。
キャッシュは、メインメモリよりも高速にアクセスできるメモリで、CPUが最もよく使用するデータや命令を一時的に保存する。
これによって、CPU がメインメモリにアクセスする必要が減少し、全体のシステム性能が向上する。現代の CPU は、個々のプロセッサ用のキャッシュと共有キャッシュを持つ多層構造になっている。
https://gyazo.com/c9a2bf87af107551696879a03b01d0b7

L1 キャッシュ（レベル 1）
これは CPU コアごとに存在し、非常に高速ですが容量が小さいものが一般的。アクセス速度は非常に速く、CPU クロックのサイクルにほぼ近い速度で動作する。
L1 キャッシュは、一般にデータキャッシュと命令キャッシュに分かれている。

L2 キャッシュ（レベル 2）
L2 キャッシュは L1 よりも大きく、やや遅いですが、それでもメインメモリよりはるかに速い。一般に、L2 キャッシュは CPU コアごとに存在するか、いくつかのコアで共有されることがある。

L3 キャッシュ（レベル 3）
L3 キャッシュは通常、CPU 全体で共有されるキャッシュで、L1 および L2 よりもさらに大きい容量を持ちますが、その分、アクセス速度は遅くなる。
しかし、メインメモリに比べると速いため、全体の性能向上に寄与する。


